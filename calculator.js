<!DOCTYPE html>
<html>
<head>
  <script type="text/javascript" src="calculator.js"></script>
  <link rel="stylesheet" type="text/css" href="style.css">
  <title>HTML Calculator</title>
</head>
<body>
  <div id="container">
     <div id="result_display">
       <div id="operator_display"></div>
       <div id="result_display_value"></div>
     </div>
     <div id="buttons_row_1" class="row">
       <div id="num_1" class="button">1</div>
       <div id="num_2" class="button">2</div>
       <div id="num_3" class="button">3</div>
       <div class="button">+</div>
     </div>
     <div id="buttons_row_2" class="row">
        <div id="num_4" class="button">4</div>
        <div id="num_5" class="button">5</div>
        <div id="num_6" class="button">6</div>
        <div class="button">-</div>
     </div>
     <div id="buttons_row_3"  class="row">
        <div id="num_7" class="button">7</div>
        <div id="num_8" class="button">8</div>
        <div id="num_9" class="button">9</div>
        <div class="button">*</div>
     </div>
     <div id="buttons_row_4" class="row">
        <div class="button">C</div>
        <div class="button">0</div>
        <div class="button">=</div>
        <div class="button">/</div>
     </div>
  </div>
  
  
  <script type="text/javascript">
    var leftNumber = "";
    var rightNumber = "";
    var currentDisplay = "";
    var currentOperator = ""; 
    var currentNumber = "0";
    var lastInput = "0";
    
    
    window.onload = function()
    {      
      var elements = document.getElementsByClassName('button');

      for (var i = 0; i < elements.length; i+=1)
      {
        elements[i].onclick = handleInput;
      }  
    }
     
    function handleInput()
    {
       var input = this.innerHTML;
        
        if (input === "=")
        {
                      var solution = 0;
             rightNumber = currentNumber;
             var left = Number(leftNumber);
             var right = Number(rightNumber);

              switch (currentOperator)
                {
                  case "+":
                    solution = (left + right);
                    break;
                  case "-":
                    solution = (left - right);
                    break;
                  case "*":
                    solution = (left * right);
                    break;
                  case "/":
                    solution = (left / right);
                    break;
                }

               leftNumber = solution;
               rightNumber = "";
               currentNumber = "";
               currentOperator = "";
            currentDisplay = leftNumber;
        }

        else if (input === "C")
        {
          clear();
        }

      
      
      // if it's not a number (operator)
       else if (isNaN(Number(input)))
       {
         
         if (currentOperator === "")
           {
             currentOperator = input;
             leftNumber = currentNumber;
             currentNumber = "";
           }
         
         else
           {
             var solution = 0;
             rightNumber = currentNumber;
             var left = Number(leftNumber);
             var right = Number(rightNumber);

              switch (currentOperator)
                {
                  case "+":
                    solution = (left + right);
                    break;
                  case "-":
                    solution = (left - right);
                    break;
                  case "*":
                    solution = (left * right);
                    break;
                  case "/":
                    solution = (left / right);
                    break;
                }

               leftNumber = solution;
               rightNumber = "";
               currentNumber = "";
               currentOperator = input;
             currentDisplay = currentNumber;


           }
         
       }
      
      // it's a number
      else
      {
          currentNumber += input;
         currentDisplay = Number(currentNumber);
      }
      
      
      var operatorDisplay = document.getElementById('operator_display');
      var resultDisplay = document.getElementById('result_display_value');
      
      operatorDisplay.innerHTML = currentOperator;
      resultDisplay.innerHTML = currentDisplay;
      
      console.log("current: " + currentNumber);
      console.log("left: " + leftNumber);
      console.log("operator: " + currentOperator);
      console.log("right: " + rightNumber);
  
    }
    
    function clear()
    {
      currentNumber = "";
          leftNumber = "";
          rightNumber = "";
          currentOperator = "";
    }
    
 
    
  </script>
</body>

</html>